// ============================================
// PROMPTS.JS - Промпти для генерації пісень
// ============================================

const Prompts = {
    // ========== ТЕСТ API ==========
    test: () => {
        return 'Напиши одне коротке речення українською про музику.';
    },
    
    // ========== ГЕНЕРАЦІЯ ТЕКСТУ ПІСНІ ==========
    poem: (params) => {
        let prompt = `Напиши текст пісні українською мовою.

Тема: ${params.theme}
Настрій: ${params.mood}
Жанр: ${params.style}`;

        if (params.template) {
            const template = params.template;
            prompt += `\nСтруктура: ${template.name}`;
            
            if (template.structure) {
                prompt += `\nФорма: ${template.structure}`;
            }
        }
        
        if (params.additionalDetails) {
            prompt += `\nДодаткові вимоги: ${params.additionalDetails}`;
        }
        
        if (params.poemNumber) {
            prompt += `\n\nЦе пісня №${params.poemNumber} з альбому.`;
        }

        prompt += `\n\n⚠️ ВАЖЛИВО: 
- Поверни ТІЛЬКИ текст пісні без назви
- Використовуй позначки [Куплет 1], [Приспів], [Бридж] тощо для структури
- Рими мають бути природними
- Текст має співатися
- Без пояснень та коментарів`;
        
        return prompt;
    },
    
    // ========== ГЕНЕРАЦІЯ НАЗВИ ПІСНІ ==========
    poemTitle: (params) => {
        return `Придумай яскраву назву для пісні на тему "${params.theme}" в ${params.mood} настрої для жанру ${params.style}.

⚠️ ВАЖЛИВО: Поверни тільки назву, одну коротку фразу (2-4 слова), без лапок, без пояснень.`;
    },
    
    // ========== ПОКРАЩЕННЯ ТЕКСТУ ==========
    improvePoem: (text) => {
        return `Покращ наступний текст пісні, зберігаючи структуру але зробивши його більш виразним, емоційним та придатним для співу:

${text}

⚠️ ВАЖЛИВО: 
- Збережи структуру [Куплет], [Приспів] тощо
- Покращ рими та ритм
- Зроби більш співучим
- Поверни тільки покращений текст без коментарів`;
    },
    
    // ========== ДОДАВАННЯ КУПЛЕТА ==========
    continuePoem: (text, lines) => {
        return `Додай ще один куплет до наступної пісні, зберігаючи стиль, настрій та ритм:

${text}

⚠️ ВАЖЛИВО: 
- Поверни тільки новий куплет
- Познач його як [Куплет 3]
- Збережи загальний стиль пісні`;
    },
    
    // ========== ГЕНЕРАЦІЯ РИМИ ==========
    findRhyme: (word) => {
        return `Дай 10 українських слів, які римуються зі словом "${word}" і підходять для текстів пісень.

⚠️ ВАЖЛИВО: Поверни список через кому, тільки слова, без номерів, без пояснень.

Приклад формату: слово1, слово2, слово3, ...`;
    },
    
    // ========== СИНОНІМИ ==========
    findSynonyms: (word) => {
        return `Дай 10 синонімів українською до слова "${word}", які добре звучать у піснях.

⚠️ ВАЖЛИВО: Поверни список через кому, тільки слова, без номерів, без пояснень.

Приклад формату: слово1, слово2, слово3, ...`;
    },
    
    // ========== АНАЛІЗ РИТМУ ==========
    analyzeMeter: (text) => {
        return `Проаналізуй ритм та структуру наступного тексту пісні:

${text}

⚠️ ВАЖЛИВО: Поверни ТІЛЬКИ JSON без жодного додаткового тексту:

{
  "meter": "опис ритмічної структури",
  "rhythm": "оцінка придатності для співу (1-2 речення)",
  "consistency": 8,
  "suggestions": "короткі поради для покращення"
}

consistency — це оцінка ритмічності від 1 до 10 (число).`;
    },
    
    // ========== ГЕНЕРАЦІЯ ВСТУПУ ДО АЛЬБОМУ ==========
    collectionIntro: (params) => {
        return `Напиши короткий опис (2-3 речення) до музичного альбому "${params.title}" 
на тему "${params.theme}" в ${params.mood} настрої, жанр ${params.style}.

⚠️ ВАЖЛИВО: Тільки текст опису, без заголовків.`;
    },
    
    // ========== ГЕНЕРАЦІЯ НАЗВ ПІСЕНЬ ==========
    generateThematicSet: (params) => {
        return `Згенеруй ${params.count} назв для пісень на тему "${params.theme}" 
в ${params.mood} настрої, жанр ${params.style}.

⚠️ ВАЖЛИВО: Поверни ТІЛЬКИ JSON без жодного додаткового тексту:

[
  {"title": "Назва 1", "keywords": ["ключове слово 1", "ключове слово 2"]},
  {"title": "Назва 2", "keywords": ["ключове слово 1", "ключове слово 2"]}
]`;
    },
    
    // ========== ГЕНЕРАЦІЯ ХУКУ ==========
    generateHook: (theme, mood) => {
        return `Придумай короткий запам'ятовуваний хук (2-4 рядки) для пісні на тему "${theme}" в ${mood} настрої.

⚠️ ВАЖЛИВО: 
- Має легко запам'ятовуватися
- Повторювані елементи вітаються
- Тільки текст хуку, без пояснень`;
    },
    
    // ========== ГЕНЕРАЦІЯ БРИДЖУ ==========
    generateBridge: (verseText) => {
        return `Напиши бридж (міст) для наступної пісні, який буде контрастувати з куплетами:

${verseText}

⚠️ ВАЖЛИВО:
- 4-8 рядків
- Інша мелодія/ритм
- Поглиблює зміст
- Познач як [Бридж]`;
    }
};

// Експорт для Node.js (якщо потрібно)
if (typeof module !== 'undefined' && module.exports) {
    module.exports = Prompts;
}